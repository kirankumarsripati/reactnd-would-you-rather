(this["webpackJsonpreactnd-would-you-rather"]=this["webpackJsonpreactnd-would-you-rather"]||[]).push([[0],{70:function(e,t,n){e.exports=n(87)},82:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(19),c=n.n(r),l=n(18),i=n(6),s=n(10),u=n.n(s);var m=n(8),d=n(5);var p={};var b={sarahedo:{id:"sarahedo",name:"Sarah Edo",avatarURL:"https://avatars.dicebear.com/api/female/sarahedo.svg?mood[]=happy",answers:{"8xf0y6ziyjabvozdd253nd":"optionOne","6ni6ok3ym7mf1p33lnez":"optionTwo",am8ehyc8byjqgar0jgpub9:"optionTwo",loxhs1bqm25b708cmbf3g:"optionTwo"},questions:["8xf0y6ziyjabvozdd253nd","am8ehyc8byjqgar0jgpub9"]},tylermcginnis:{id:"tylermcginnis",name:"Tyler McGinnis",avatarURL:"https://avatars.dicebear.com/api/male/tylermcginnis.svg?mood[]=happy",answers:{vthrdm985a262al8qx3do:"optionOne",xj352vofupe1dqz9emx13r:"optionTwo"},questions:["loxhs1bqm25b708cmbf3g","vthrdm985a262al8qx3do"]},johndoe:{id:"johndoe",name:"John Doe",avatarURL:"https://avatars.dicebear.com/api/male/johndoe.svg?mood[]=happy",answers:{xj352vofupe1dqz9emx13r:"optionOne",vthrdm985a262al8qx3do:"optionTwo","6ni6ok3ym7mf1p33lnez":"optionTwo"},questions:["6ni6ok3ym7mf1p33lnez","xj352vofupe1dqz9emx13r"]}},h={"8xf0y6ziyjabvozdd253nd":{id:"8xf0y6ziyjabvozdd253nd",author:"sarahedo",timestamp:1467166872634,optionOne:{votes:["sarahedo"],text:"have horrible short term memory"},optionTwo:{votes:[],text:"have horrible long term memory"}},"6ni6ok3ym7mf1p33lnez":{id:"6ni6ok3ym7mf1p33lnez",author:"johndoe",timestamp:1468479767190,optionOne:{votes:[],text:"become a superhero"},optionTwo:{votes:["johndoe","sarahedo"],text:"become a supervillain"}},am8ehyc8byjqgar0jgpub9:{id:"am8ehyc8byjqgar0jgpub9",author:"sarahedo",timestamp:1488579767190,optionOne:{votes:[],text:"be telekinetic"},optionTwo:{votes:["sarahedo"],text:"be telepathic"}},loxhs1bqm25b708cmbf3g:{id:"loxhs1bqm25b708cmbf3g",author:"tylermcginnis",timestamp:1482579767190,optionOne:{votes:[],text:"be a front-end developer"},optionTwo:{votes:["sarahedo"],text:"be a back-end developer"}},vthrdm985a262al8qx3do:{id:"vthrdm985a262al8qx3do",author:"tylermcginnis",timestamp:1489579767190,optionOne:{votes:["tylermcginnis"],text:"find $50 yourself"},optionTwo:{votes:["johndoe"],text:"have your best friend find $500"}},xj352vofupe1dqz9emx13r:{id:"xj352vofupe1dqz9emx13r",author:"johndoe",timestamp:1493579767190,optionOne:{votes:["johndoe"],text:"write JavaScript"},optionTwo:{votes:["tylermcginnis"],text:"write Swift"}}};function v(e){return new Promise((function(t,n){var a=e.author,o=function(e){var t=e.optionOneText,n=e.optionTwoText,a=e.author;return{id:Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),timestamp:Date.now(),author:a,optionOne:{votes:[],text:t},optionTwo:{votes:[],text:n}}}(e);setTimeout((function(){h=Object(d.a)({},h,Object(m.a)({},o.id,o)),b=Object(d.a)({},b,Object(m.a)({},a,Object(d.a)({},b[a],{questions:b[a].questions.concat([o.id])}))),t(o)}),1e3)}))}function E(e){return{type:"ADD_QUESTION",question:e}}var f={};var g=Object(l.combineReducers)({authedUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AUTHED_USER":return t.id;case"UNSET_AUTHED_USER":return null;default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_USERS":return Object(d.a)({},e,{},t.users);case"ADD_USER_ANSWER":var n=t.authedUser,a=t.questionId,o=t.answer;return Object(d.a)({},e,Object(m.a)({},n,Object(d.a)({},e[n],{answers:Object(d.a)({},e[n].answers,Object(m.a)({},a,o))})));case"ADD_USER_QUESTION":return Object(d.a)({},e,Object(m.a)({},t.authedUser,Object(d.a)({},e[t.authedUser],{questions:e[t.authedUser].questions.concat([t.questionId])})));default:return e}},questions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_QUESTIONS":return Object(d.a)({},e,{},t.questions);case"ADD_QUESTION":var n=t.question;return Object(d.a)({},e,Object(m.a)({},n.id,n));case"SAVE_ANSWER":var a=t.authedUser,o=t.questionId,r=t.answer;return Object(d.a)({},e,Object(m.a)({},o,Object(d.a)({},e[o],Object(m.a)({},r,Object(d.a)({},e[o][r],{votes:e[o][r].votes.concat([a])})))));default:return e}},loadingBar:s.loadingBarReducer}),O=n(56),y=n(57),j=function(e){return function(t){return function(n){console.group(n.type),console.log("The action: ",n);var a=t(n);return console.log("The new state",e.getState()),console.groupEnd(),a}}},w=Object(y.composeWithDevTools)(Object(l.applyMiddleware)(O.a,j)),x=(n(81),n(82),n(13)),T=n(7),U=n(93),S=n(95),q=n(68),_=Object(i.connect)((function(e,t){return{user:e.users[t.id]}}))((function(e){var t=e.user;return o.a.createElement(a.Fragment,null,o.a.createElement("img",{src:t.avatarURL,className:"avatar",alt:t.name}),o.a.createElement("span",null,t.name))})),N=Object(i.connect)((function(e){return{authedUser:e.authedUser}}),(function(e){return{logout:function(){e({type:"UNSET_AUTHED_USER"})}}}))(Object(T.g)((function(e){var t=e.authedUser,n=e.logout,r=e.history;return o.a.createElement(S.a,{bg:"light",expand:"md"},o.a.createElement(S.a.Brand,{href:"/"},"Would You Rather"),t&&o.a.createElement(a.Fragment,null,o.a.createElement(S.a.Toggle,{"aria-controls":"main-nav"}),o.a.createElement(S.a.Collapse,{id:"main-nav"},o.a.createElement(q.a,{className:"ml-auto"},o.a.createElement(q.a.Link,{as:x.b,exact:!0,to:"/"},"Home"),o.a.createElement(q.a.Link,{as:x.b,to:"/add"},"New Question"),o.a.createElement(q.a.Link,{as:x.b,to:"/leaderboard"},"Leader Board"),o.a.createElement(q.a.Link,null,o.a.createElement(_,{id:t})),o.a.createElement(q.a.Link,{onClick:function(e){e.preventDefault(),r.push("/"),n()}},"Logout")))))}))),k=n(16),A=n(97),D=n(89),L=n(90),R=n(63),z=n(96),C=Object(i.connect)((function(e,t){return{question:e.questions[t.id]}}))(Object(T.g)((function(e){var t=e.question,n=e.history;return o.a.createElement(z.a,{className:"mt-3",onClick:function(e){return function(e,t){e.preventDefault(),n.push("/questions/".concat(t))}(e,t.id)}},o.a.createElement(z.a.Body,null,o.a.createElement(z.a.Title,null,"Would You Rather"),t&&o.a.createElement("ul",null,o.a.createElement("li",null,t.optionOne.text),o.a.createElement("li",null,t.optionTwo.text))))}))),I=Object(i.connect)((function(e){var t=e.questions,n=e.users,a=e.authedUser;if(a){var o=n[a],r=Object.keys(o.answers).sort((function(e,n){return t[n].timestamp-t[e].timestamp})),c=Object.keys(t).filter((function(e){return!r.includes(e)})).sort((function(e,n){return t[n].timestamp-t[e].timestamp}));return{answeredQuestions:r,unansweredQuestions:c}}}))((function(e){var t=e.answeredQuestions,n=e.unansweredQuestions,r=Object(a.useState)("unanswered"),c=Object(k.a)(r,2),l=c[0],i=c[1];return o.a.createElement(A.a,{id:"dashboard",activeKey:l,onSelect:function(e){return i(e)},className:"justify-content-center"},o.a.createElement(D.a,{eventKey:"unanswered",title:"Unanswered"},o.a.createElement(L.a,null,n.map((function(e){return o.a.createElement(R.a,{key:e,sm:"6",md:"4"},o.a.createElement(C,{id:e}))})))),o.a.createElement(D.a,{eventKey:"answered",title:"Answered"},o.a.createElement(L.a,null,t.map((function(e){return o.a.createElement(R.a,{key:e,sm:"6",md:"4"},o.a.createElement(C,{id:e}))})))))})),Q=n(94),W=n(91),M=n(67);function G(e,t){return function(n,a){var o=a().authedUser;return n(Object(s.showLoading)()),function(e){var t=e.authedUser,n=e.qid,a=e.answer;return new Promise((function(e,o){setTimeout((function(){b=Object(d.a)({},b,Object(m.a)({},t,Object(d.a)({},b[t],{answers:Object(d.a)({},b[t].answers,Object(m.a)({},n,a))}))),h=Object(d.a)({},h,Object(m.a)({},n,Object(d.a)({},h[n],Object(m.a)({},a,Object(d.a)({},h[n][a],{votes:h[n][a].votes.concat([t])}))))),e()}),500)}))}({authedUser:o,qid:e,answer:t}).then((function(){n(function(e,t,n){return{type:"SAVE_ANSWER",authedUser:e,questionId:t,answer:n}}(o,e,t)),n(function(e,t,n){return{type:"ADD_USER_ANSWER",authedUser:e,questionId:t,answer:n}}(o,e,t))})).then((function(){return n(Object(s.hideLoading)())}))}}var B=Object(i.connect)((function(e,t){var n=e.questions,a=e.users,o=e.authedUser;if(o){var r=n[t.match.params.id],c=a[r.author],l=r.optionOne.votes.includes(o),i=r.optionTwo.votes.includes(o);return{question:r,author:c,isAnswered:l||i,isOption1Answered:l}}}),(function(e,t){var n=t.match.params.id;return{saveAnswer:function(t){e(G(n,t))}}}))((function(e){var t=e.question,n=e.author,a=e.isAnswered,r=e.isOption1Answered,c=e.saveAnswer,l=o.a.useState(),i=Object(k.a)(l,2),s=i[0],u=i[1],m=function(e){console.log("submit click",e),e.preventDefault(),s&&c(s)},d=function(e){u(e.target.value)},p=o.a.createElement(M.a,{size:"40",color:"green"});return function(){if(!t)return o.a.createElement(T.a,{to:"/404"});var e=t.optionOne.votes.length,c=t.optionTwo.votes.length,l=(e/(e+c)*100).toFixed(2),i=(c/(e+c)*100).toFixed(2);return o.a.createElement(L.a,null,o.a.createElement(R.a,{md:{span:6,offset:3}},o.a.createElement(z.a,null,o.a.createElement(z.a.Header,null,o.a.createElement(_,{id:n.id}),o.a.createElement(x.b,{to:"/",className:"float-right btn btn-secondary"},"Back"),o.a.createElement("div",{className:"mt-2 ml-2"},function(e){var t=new Date(e),n=t.toLocaleTimeString("en-US");return n.substr(0,5)+n.slice(-2)+" | "+t.toLocaleDateString()}(t.timestamp))),o.a.createElement(z.a.Body,null,o.a.createElement(z.a.Title,null,"Would You Rather"),a?o.a.createElement("ul",null,o.a.createElement("li",null,t.optionOne.text," (",e," vote(s) | ",l,"%)",r?p:null),o.a.createElement("li",null,t.optionTwo.text," (",c," vote(s) | ",i,"%)",r?null:p)):o.a.createElement(Q.a,null,o.a.createElement(Q.a.Group,null,o.a.createElement(Q.a.Check,{type:"radio",id:"radio-1",name:"option",value:"optionOne",label:t.optionOne.text,onChange:d}),o.a.createElement(Q.a.Check,{type:"radio",id:"radio-2",name:"option",value:"optionTwo",label:t.optionTwo.text,onChange:d})),o.a.createElement(W.a,{disabled:!s,onClick:m},"Submit"))))))}()})),Y=Object(i.connect)(null,(function(e){return{addQuestion:function(t,n){var a,o;e((a=t,o=n,function(e,t){var n=t().authedUser;return e(Object(s.showLoading)()),v({optionOneText:a,optionTwoText:o,author:n}).then((function(t){var a,o;e(E(t)),e((a=n,o=t.id,{type:"ADD_USER_QUESTION",authedUser:a,questionId:o}))})).then((function(){return e(Object(s.hideLoading)())}))}))}}}))(Object(T.g)((function(e){var t=e.addQuestion,n=e.history,a=o.a.useState(""),r=Object(k.a)(a,2),c=r[0],l=r[1],i=o.a.useState(""),s=Object(k.a)(i,2),u=s[0],m=s[1];return o.a.createElement(L.a,null,o.a.createElement(R.a,{md:{span:6,offset:3}},o.a.createElement(z.a,null,o.a.createElement(z.a.Body,null,o.a.createElement(z.a.Title,null,"Would You Rather"),o.a.createElement(Q.a,{onSubmit:function(e){e.preventDefault(),t(c,u),n.push("/")}},o.a.createElement(Q.a.Group,null,o.a.createElement(Q.a.Label,null,"Option One"),o.a.createElement(Q.a.Control,{type:"text",value:c,onChange:function(e){return l(e.target.value)},placeholder:"Option One"})),o.a.createElement(Q.a.Group,null,o.a.createElement(Q.a.Label,null,"Option Two"),o.a.createElement(Q.a.Control,{type:"text",value:u,onChange:function(e){return m(e.target.value)},placeholder:"Option Two"})),o.a.createElement(W.a,{type:"submit",disabled:!c&&!u},"Submit"))))))}))),H=n(92),P=Object(i.connect)((function(e){var t=e.users;return{list:Object.keys(t).map((function(e){return{id:e,created:t[e].questions.length,answered:Object.keys(t[e].answers).length}})).sort((function(e,t){return t.created+t.answered-(e.created+e.answered)}))}}))((function(e){var t=e.list;return o.a.createElement(H.a,{className:"leader-board"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Rank"),o.a.createElement("th",null,"User"),o.a.createElement("th",null,"Questions Created"),o.a.createElement("th",null,"Questions Answered"))),o.a.createElement("tbody",null,t.map((function(e,t){return o.a.createElement("tr",{key:e.id},o.a.createElement("td",null,t+1),o.a.createElement("td",null,o.a.createElement(_,{id:e.id})),o.a.createElement("td",null,e.created),o.a.createElement("td",null,e.answered))}))))})),F=Object(i.connect)((function(e){return{users:e.users}}),(function(e){return{setAuthedUser:function(t){e(function(e){return{type:"SET_AUTHED_USER",id:e}}(t))}}}))((function(e){var t=e.users,n=e.setAuthedUser,a=o.a.useState(""),r=Object(k.a)(a,2),c=r[0],l=r[1];return o.a.createElement(L.a,null,o.a.createElement(R.a,{md:{span:6,offset:3}},o.a.createElement(Q.a,null,o.a.createElement(Q.a.Group,{controlId:"selectUser"},o.a.createElement(Q.a.Label,null,"Select User"),o.a.createElement(Q.a.Control,{as:"select",value:c,onChange:function(e){return function(e){return l(e)}(e.target.value)}},o.a.createElement("option",{value:"",disabled:!0},"Please select"),Object.keys(t).map((function(e){return o.a.createElement("option",{key:e,value:e},t[e].name)})))),o.a.createElement(W.a,{onClick:function(){c&&n(c)},disabled:!c},"Login"))))})),J=n(64),X=n(65),K=n(66),V=n(69),$=(n(86),function(e){Object(V.a)(n,e);var t=Object(K.a)(n);function n(){var e;Object(J.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={pageX:0,pageY:0,xAxis:0,yAxis:0},e}return Object(X.a)(n,[{key:"componentDidMount",value:function(){var e=document.documentElement.clientWidth,t=document.documentElement.clientHeight;this.setState({pageX:e,pageY:t}),document.addEventListener("mousemove",this.onMouseMove.bind(this))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousemove",this.onMouseMove.bind(this))}},{key:"onMouseMove",value:function(e){var t=e.pageY,n=(this.state.pageY/2-t)/this.state.pageY*300,a=100*-(e.pageX/-this.state.pageX)-100;this.setState({yAxis:n,xAxis:a})}},{key:"render",value:function(){var e=this.state,t=e.xAxis,n=e.yAxis;return o.a.createElement("div",{className:"box"},o.a.createElement("div",{className:"box__ghost"},o.a.createElement("div",{className:"symbol"}),o.a.createElement("div",{className:"symbol"}),o.a.createElement("div",{className:"symbol"}),o.a.createElement("div",{className:"symbol"}),o.a.createElement("div",{className:"symbol"}),o.a.createElement("div",{className:"symbol"}),o.a.createElement("div",{className:"box__ghost-container"},o.a.createElement("div",{className:"box__ghost-eyes",style:{transform:"translate("+t+"%,-"+n+"%)"}},o.a.createElement("div",{className:"box__eye-left"}),o.a.createElement("div",{className:"box__eye-right"})),o.a.createElement("div",{className:"box__ghost-bottom"},o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null))),o.a.createElement("div",{className:"box__ghost-shadow"})),o.a.createElement("div",{className:"box__description text-center"},o.a.createElement("div",{className:"box__description-container mb-3"},o.a.createElement("div",{className:"box__description-title"},"Whoops!"),o.a.createElement("div",{className:"box__description-text"},"It seems like we couldn't find the page you were looking for")),o.a.createElement(x.b,{to:"/",className:"btn btn-danger"},"Go back")))}}]),n}(o.a.Component)),Z=Object(i.connect)((function(e){return{notLoggedIn:null===e.authedUser}}),(function(e){return{loadData:function(){e((function(e){return e(Object(s.showLoading)()),Promise.all([new Promise((function(e,t){setTimeout((function(){return e(Object(d.a)({},b))}),1e3)})),new Promise((function(e,t){setTimeout((function(){return e(Object(d.a)({},h))}),1e3)}))]).then((function(t){var n=Object(k.a)(t,2),a=n[0],o=n[1];e(function(e){return{type:"GET_USERS",users:e}}(a)),e(function(e){return{type:"GET_QUESTIONS",questions:e}}(o)),e(Object(s.hideLoading)())}))}))}}}))((function(e){var t=e.notLoggedIn,n=e.loadData;return o.a.useEffect((function(){n()}),[n]),o.a.createElement(x.a,{basename:"/reactnd-would-you-rather"},o.a.createElement(a.Fragment,null,o.a.createElement(u.a,{className:"loading-bar"}),o.a.createElement(N,null),o.a.createElement(U.a,{className:"main"},o.a.createElement(T.d,null,t?o.a.createElement(T.b,{exact:!0,path:"/",component:F}):o.a.createElement(a.Fragment,null,o.a.createElement(T.b,{path:"/",exact:!0,component:I}),o.a.createElement(T.b,{path:"/questions/:id",component:B}),o.a.createElement(T.b,{path:"/add",component:Y}),o.a.createElement(T.b,{path:"/leaderboard",component:P}),o.a.createElement(T.b,{path:"/404",component:$})),o.a.createElement(T.b,{component:$})))))})),ee=Object(l.createStore)(g,w);c.a.render(o.a.createElement(i.Provider,{store:ee},o.a.createElement(Z,null)),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.56149716.chunk.js.map